<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Video Player dari JSON</title>
  <style>
    :root{--bg:#0f1720;--card:#0b1220;--muted:#9aa6b2;--accent:#3b82f6}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#071022 0%,#081129 60%);color:#e6eef6;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .app{width:100%;max-width:1100px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.05));border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(2,6,23,0.6);display:grid;grid-template-columns:1fr 360px;gap:0}
    .player-area{padding:18px;display:flex;flex-direction:column;gap:12px}
    video{width:100%;height:560px;background:#000;border-radius:10px;outline:none}
    .meta{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .title{font-weight:700;font-size:18px}
    .date{color:var(--muted);font-size:13px}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
    .btn:hover{border-color:rgba(255,255,255,0.12)}
    .playlist{background:linear-gradient(180deg,#041127,#081328);padding:12px;display:flex;flex-direction:column;gap:12px}
    .plist-title{font-weight:700;margin-bottom:6px}
    .item-list{overflow:auto;max-height:640px;padding-right:6px}
    .item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;cursor:pointer}
    .item:hover{background:rgba(255,255,255,0.02)}
    .item.active{background:linear-gradient(90deg,rgba(59,130,246,0.12),rgba(59,130,246,0.08));border-left:3px solid var(--accent)}
    .thumb{width:96px;height:56px;background:#031024;border-radius:6px;object-fit:cover;display:block}
    .meta-item{flex:1}
    .meta-item .name{font-weight:600}
    .meta-item .sub{font-size:12px;color:var(--muted)}
    .links{display:flex;flex-direction:column;gap:6px;margin-top:6px}
    a.link{font-size:13px;color:var(--accent);text-decoration:none}
    footer.note{padding:10px 18px;color:var(--muted);font-size:13px}
    @media (max-width:920px){.app{grid-template-columns:1fr;}.playlist{order:2}}
  </style>
</head>
<body>
  <div class="app">
    <div class="player-area">
      <video id="video" controls preload="metadata">
        Sorry, your browser doesn't support embedded videos.
      </video><div class="meta">
    <div>
      <div class="title" id="title">-</div>
      <div class="date" id="date">-</div>
    </div>
    <div class="controls">
      <button class="btn" id="prev">⟨ Prev</button>
      <button class="btn" id="next">Next ⟩</button>
      <button class="btn" id="toggleLoop" title="Toggle loop">Loop: off</button>
      <button class="btn" id="pip">PiP</button>
    </div>
  </div>

  <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
    <label style="font-size:13px;color:var(--muted)">Speed:</label>
    <select id="speed" class="btn" style="padding:6px 8px">
      <option value="0.5">0.5x</option>
      <option value="0.75">0.75x</option>
      <option value="1" selected>1x</option>
      <option value="1.25">1.25x</option>
      <option value="1.5">1.5x</option>
      <option value="2">2x</option>
    </select>
  </div>

  <footer class="note">Tips: tekan Space untuk play/pause, ←/→ untuk seek 5s. Klik item di playlist untuk ganti video.</footer>
</div>

<aside class="playlist">
  <div>
    <div class="plist-title">Playlist</div>
    <div class="item-list" id="list"></div>
  </div>

  <div>
    <div style="font-weight:700">Download / Links</div>
    <div class="links" id="links"></div>
  </div>

  <div style="margin-top:auto;font-size:13px;color:var(--muted)">Generated from provided JSON. Preview or save as <code>player.html</code>.</div>
</aside>

  </div>  <script>
    // ==== DATA (langsung dari JSON yang user kasih) ====
    const data = [
      {
        "id": 4000,
        "slug": "talent-floiyrine-acaa",
        "title": "TALENT FLOIYRINE ACAA",
        "thumb": "/foto/b6dpqr.jpg",
        "path": "/talent-floiyrine-acaa.html",
        "date": "2025-08-10T00:00:00Z",
        "links": {
          "videy": [
            "https://cdn.videy.co/fq3vnyai1.mp4",
            "https://cdn.videy.co/z8B3jMxB1.mp4",
            "https://cdn.videy.co/mSDArJW71.mp4",
            "https://cdn.videy.co/fdMXlrr61.mp4",
            "https://cdn.videy.co/6I2IFand1.mp4",
            "https://cdn.videy.co/NXwqxz4Y1.mp4",
            "https://cdn.videy.co/GgQBnCVH1.mp4",
            "https://cdn.videy.co/HlsDYou11.mp4",
            "https://cdn.videy.co/MsfyAux01.mp4",
            "https://cdn.videy.co/gB1vHJC71.mp4",
            "https://cdn.videy.co/5ete3cTl1.mp4",
            "https://cdn.videy.co/nX5DmjcN1.mp4"
          ],
          "mediafire": [
            "https://www.mediafire.com/file/9q8yw3qmym5mkz7/TALENT_FLOIYRINE_ACAA.zip/file"
          ],
          "terabox": [
            "https://1024terabox.com/s/1GCjCnKE2oqBLCjpEa4egCA"
          ],
          "pixeldrain": [],
          "bonus": []
        }
      }
    ];

    // We'll render the first (and only) item
    const item = data[0];
    const videoEl = document.getElementById('video');
    const titleEl = document.getElementById('title');
    const dateEl = document.getElementById('date');
    const listEl = document.getElementById('list');
    const linksEl = document.getElementById('links');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const toggleLoopBtn = document.getElementById('toggleLoop');
    const pipBtn = document.getElementById('pip');
    const speedSel = document.getElementById('speed');

    let currentIndex = 0;

    // format date (local)
    function formatDate(iso){
      try{const d=new Date(iso); return d.toLocaleString('id-ID', {year:'numeric',month:'long',day:'numeric'});}catch(e){return iso}
    }

    titleEl.textContent = item.title;
    dateEl.textContent = formatDate(item.date);

    function createList(){
      listEl.innerHTML = '';
      const arr = item.links.videy || [];
      if(!arr.length){ listEl.innerHTML = '<div style="color:var(--muted)">Tidak ada video di playlist.</div>'; return; }
      arr.forEach((src, i)=>{
        const el = document.createElement('div');
        el.className = 'item';
        el.dataset.index = i;
        el.innerHTML = `
          <img class="thumb" loading="lazy" src="${item.thumb}" onerror="this.style.opacity=0.35" alt="thumb-${i}"/>
          <div class="meta-item">
            <div class="name">Bagian ${i+1}</div>
            <div class="sub">${new URL(src).hostname} • ${src.split('/').pop()}</div>
          </div>
        `;
        el.addEventListener('click', ()=>{ playIndex(i); });
        listEl.appendChild(el);
      });
    }

    function updateActive(){
      [...listEl.children].forEach(node=>{
        node.classList.toggle('active', Number(node.dataset.index)===currentIndex);
      });
    }

    function playIndex(i){
      const arr = item.links.videy || [];
      if(!arr[i]) return;
      currentIndex = i;
      videoEl.src = arr[i];
      videoEl.play().catch(()=>{});
      updateActive();
    }

    // downloads / external links
    function renderLinks(){
      linksEl.innerHTML = '';
      const links = item.links || {};
      for(const key of ['mediafire','terabox','pixeldrain','bonus']){
        const arr = links[key] || [];
        if(arr.length){
          arr.forEach(u=>{
            const a = document.createElement('a');
            a.className = 'link';
            a.href = u;
            a.target = '_blank';
            a.rel = 'noopener';
            a.textContent = key + ' • ' + (new URL(u).hostname);
            linksEl.appendChild(a);
          });
        }
      }
      // also add a direct "Download current" link
      const dl = document.createElement('a');
      dl.className = 'link';
      dl.style.marginTop='8px';
      dl.href = item.links.videy && item.links.videy.length? item.links.videy[currentIndex] : '#';
      dl.textContent = 'Download current video';
      dl.target = '_blank';
      linksEl.appendChild(dl);
    }

    // basic navigation
    prevBtn.addEventListener('click', ()=>{
      const arr = item.links.videy || [];
      if(currentIndex>0) playIndex(currentIndex-1);
      else { playIndex(arr.length-1); }
    });
    nextBtn.addEventListener('click', ()=>{
      const arr = item.links.videy || [];
      if(currentIndex < arr.length-1) playIndex(currentIndex+1);
      else { playIndex(0); }
    });

    // loop toggle
    toggleLoopBtn.addEventListener('click', ()=>{
      videoEl.loop = !videoEl.loop;
      toggleLoopBtn.textContent = 'Loop: ' + (videoEl.loop? 'on' : 'off');
    });

    // picture-in-picture (if supported)
    pipBtn.addEventListener('click', async ()=>{
      try{
        if (document.pictureInPictureElement) await document.exitPictureInPicture();
        else await videoEl.requestPictureInPicture();
      }catch(e){ alert('PiP tidak tersedia di browser ini.'); }
    });

    // speed
    speedSel.addEventListener('change', ()=>{ videoEl.playbackRate = Number(speedSel.value); });

    // auto next on ended
    videoEl.addEventListener('ended', ()=>{
      const arr = item.links.videy || [];
      if(currentIndex < arr.length-1) playIndex(currentIndex+1);
    });

    // keyboard shortcuts
    window.addEventListener('keydown', (e)=>{
      if(e.target.tagName==='INPUT' || e.target.tagName==='TEXTAREA') return;
      if(e.code === 'Space'){ e.preventDefault(); if(videoEl.paused) videoEl.play(); else videoEl.pause(); }
      if(e.code === 'ArrowLeft'){ videoEl.currentTime = Math.max(0, videoEl.currentTime - 5); }
      if(e.code === 'ArrowRight'){ videoEl.currentTime = Math.min(videoEl.duration||0, videoEl.currentTime + 5); }
      if(e.key === 'm'){ videoEl.muted = !videoEl.muted; }
    });

    // on load
    createList();
    updateActive();
    renderLinks();
    // set initial src if any
    if(item.links.videy && item.links.videy.length){
      videoEl.src = item.links.videy[0];
    }

  </script></body>
</html>
