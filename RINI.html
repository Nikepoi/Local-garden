<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Korea random video part 7</title>
<link rel="icon" href="favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<style>
:root{
  --yt-bg:#0f0f0f;
  --yt-panel:#181818;
  --yt-border:#2a2a2a;
  --yt-text:#ffffff;
  --yt-muted:#aaaaaa;
  --yt-red:#ff0000;
  --glass: rgba(255,255,255,0.03);
  --control-height: 56px;
}

/* Reset / base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,Roboto,Helvetica,Arial,sans-serif;background:var(--yt-bg);color:var(--yt-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
a{color:inherit;text-decoration:none}
.wrap{max-width:980px;margin:0 auto;padding:0 10px}

/* Card */
.card-player{background:transparent;border-radius:0;overflow:hidden;color:var(--yt-text)}
.video-area{position:relative;background:#000;display:block;}

/* video element: mobile-first sizing, 16:9 */
video{width:100%;height:auto;max-height:56.25vw;background:#000;display:block;object-fit:contain}

/* big center play (SVG) */
.thumb-play{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.55);border:1px solid rgba(255,255,255,0.05);cursor:pointer;z-index:22;
  -webkit-tap-highlight-color: transparent;
}
.thumb-play svg{ width:28px;height:28px; fill:#fff; }

/* Top meta (title) */
.top-meta{padding:10px 6px 8px 6px;background:transparent}
.title{font-size:15px;font-weight:700;margin:0;color:var(--yt-text);line-height:1.2}
.date{color:var(--yt-muted);font-size:13px;margin-top:6px}

/* Controls area: mobile bottom bar style */
.controls{padding:10px 6px;background:var(--yt-panel);border-top:1px solid var(--yt-border);display:flex;flex-direction:column;gap:8px}
.control-row{display:flex;align-items:center;gap:8px;min-height:var(--control-height)}
.left{display:flex;align-items:center;gap:6px}
.right{margin-left:auto;display:flex;align-items:center;gap:6px}

/* Buttons - SVG icons only, no emoji */
.btn{background:transparent;border:none;color:var(--yt-text);padding:6px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.btn:active{transform:scale(0.98)}
.btn svg{width:22px;height:22px;fill:var(--yt-text);display:block}

/* Play button larger */
.btn-play{width:44px;height:44px;border-radius:8px;background:linear-gradient(90deg,var(--yt-red),var(--yt-red));display:flex;align-items:center;justify-content:center}
.btn-play svg{width:18px;height:18px;fill:#fff}

/* Seek row */
.seek-row{display:flex;align-items:center;gap:8px}
.time{font-size:12px;color:var(--yt-muted);min-width:54px;text-align:center}
.form-range{appearance:none;width:100%;height:6px;background:transparent}
.form-range::-webkit-slider-runnable-track{height:6px;background:#333;border-radius:6px}
.form-range::-webkit-slider-thumb{appearance:none;width:12px;height:12px;border-radius:50%;background:var(--yt-red);margin-top:-3px;box-shadow:0 0 0 6px rgba(255,0,0,0.06)}
.form-range::-moz-range-track{height:6px;background:#333;border-radius:6px}
.form-range::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:var(--yt-red);border:none}

/* Downloads area */
.downloads{padding:10px 6px;background:var(--yt-panel);border-top:1px solid var(--yt-border)}
.downloads .heading{font-weight:700;color:var(--yt-text);margin-bottom:8px}
.download-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px}
.download-btn{display:inline-flex;align-items:center;gap:8px;padding:8px;border-radius:8px;border:1px solid var(--yt-border);background:transparent;color:var(--yt-text);font-weight:600;font-size:13px}

/* channel grid small icons */
.channel-grid{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.channel-btn{width:44px;height:44px;border-radius:8px;background:transparent;border:1px solid var(--yt-border);display:inline-flex;align-items:center;justify-content:center}

/* Toast */
.toast-msg{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;z-index:9999;background:rgba(10,10,10,0.9);color:var(--yt-text);padding:10px 14px;border-radius:8px;display:none;font-size:13px}

/* Responsive tweaks */
@media(min-width:720px){
  video{max-height:60vh}
  .wrap{max-width:980px;padding:12px}
}

/* Accessibility focus */
.btn:focus,.download-btn:focus{outline:2px solid rgba(255,255,255,0.06);outline-offset:2px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card card-player" id="card">
      <div class="video-area" id="videoArea">
        <video id="video" playsinline webkit-playsinline preload="metadata" controlslist="nodownload"></video>

        <!-- center play (SVG) - keep id same as sample thumbPlay -->
        <button id="thumbPlay" class="thumb-play" aria-label="Play">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div id="loading" class="loading-overlay" style="display:none;position:absolute;inset:0;align-items:center;justify-content:center;z-index:30;background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.35))" aria-hidden="true">
          <div style="display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:10px;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.03)">
            <div style="width:28px;height:28px;border-radius:50%;border:3px solid rgba(255,255,255,0.06);border-top-color:var(--yt-red);animation:spin .9s linear infinite"></div>
            <div style="display:flex;flex-direction:column">
              <div style="font-weight:700;color:var(--yt-text);font-size:14px">Memuat video…</div>
              <div style="color:var(--yt-muted);font-size:13px">Menunggu jaringan / buffering</div>
            </div>
          </div>
        </div>
      </div>

      <div class="top-meta">
        <div class="title" id="title">Korea random video part 7</div>
        <div class="date" id="date"></div>
      </div>

      <div class="controls" role="region" aria-label="Player controls">
        <div class="seek-row">
          <div class="time" id="current">0:00</div>
          <input id="seek" type="range" min="0" max="100" value="0" step="0.01" class="form-range" aria-label="Seek">
          <div class="time" id="duration">0:00</div>
        </div>

        <div class="control-row" style="align-items:center">
          <div class="left">
            <!-- Prev (SVG) -->
            <button id="prev" class="btn" title="Previous" aria-label="Previous">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6h2v12H6zm3 6l9 6V6z"/></svg>
            </button>

            <!-- Play / Pause (SVG) -->
            <button id="play" class="btn-play" title="Play/Pause" aria-label="Play/Pause">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
            </button>

            <!-- Next (SVG) -->
            <button id="next" class="btn" title="Next" aria-label="Next">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M16 6h2v12h-2zM6 18l9-6-9-6z"/></svg>
            </button>

            <!-- Loop (kept as text button to not break logic) -->
            <button id="loop" class="btn" title="Loop" aria-label="Loop">Loop</button>

            <!-- Download -->
            <button id="dl" class="btn" title="Open download link for current part" aria-label="Download">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 16l4-5h-3V4h-2v7H8zM4 18h16v2H4z"/></svg>
            </button>
          </div>

          <div class="right">
            <!-- Speed select (kept same id) -->
            <select id="speed" class="form-select form-select-sm" style="width:84px;background:transparent;color:var(--yt-text);border:1px solid var(--yt-border);padding:6px;border-radius:6px">
              <option value="0.5">0.5x</option>
              <option value="0.75">0.75x</option>
              <option value="1" selected>1x</option>
              <option value="1.25">1.25x</option>
              <option value="1.5">1.5x</option>
              <option value="2">2x</option>
            </select>

            <!-- Fullscreen (SVG) -->
            <button id="fs" class="btn" title="Fullscreen" aria-label="Fullscreen">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 14H5v5h5v-2H7zm0-4h2V7h3V5H5v5zm10 9h-3v2h5v-5h-2zm-3-14v2h3v3h2V5z"/></svg>
            </button>
          </div>
        </div>
      </div>

      <div class="downloads" aria-label="Downloads">
        <div class="heading">Full konten</div>
        <div class="mt-2 download-grid" id="downloadButtons"></div>

        <div style="margin-top:12px;font-weight:700;color:var(--yt-text)">Bagian (download links sesuai urutan)</div>
        <div class="mt-2 download-grid" id="partsGrid"></div>

        <div class="channel-grid" style="margin-top:12px">
          <a class="channel-btn" href="https://uc-share.com/s/c274d9a2762f4?la=en-us" target="_blank" rel="noopener noreferrer nofollow" title="UC Share">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M12 2a5 5 0 00-5 5v1H5v5h2v6h10v-6h2V8h-2V7a5 5 0 00-5-5z"/></svg>
          </a>
          <a class="channel-btn" href="https://1024terabox.com/s/1gcGs04775L7mTUFhQ1_RWw" target="_blank" rel="noopener noreferrer nofollow" title="Terabox">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M3 3h18v18H3z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast-msg" role="status" aria-live="polite"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // ===== DATA =====
  const videos = [
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445408126-1000098857.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445041400-1000099491.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445587141-1000098654.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445543114-1000098660.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445467259-1000098667.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445293226-1000099080.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445230849-1000099292.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445208260-1000099332.mp4",
    "https://cdn.vipoy.co/videos/cmkunk30a01mzseksx2oy19il/1769445122943-1000099386.mp4"
  ];

  const partsDownloadLinks = [
    "https://vipoy.co/view/k10pepch",
    "https://vipoy.co/view/czu1oxm1",
    "https://vipoy.co/view/a2h5t352",
    "https://vipoy.co/view/1fs8ojba",
    "https://vipoy.co/view/nfda2171",
    "https://vipoy.co/view/12eo8y55",
    "https://vipoy.co/view/uoqmpjnh",
    "https://vipoy.co/view/tdykl7x6",
    "https://vipoy.co/view/phslcvzl"
  ];

  const downloads = {
    uc: "https://uc-share.com/s/c274d9a2762f4?la=en-us",
    terabox: "https://1024terabox.com/s/1gcGs04775L7mTUFhQ1_RWw"
  };

  // ===== DOM refs =====
  const video = document.getElementById('video');
  const thumbPlay = document.getElementById('thumbPlay');
  const loading = document.getElementById('loading');
  const playBtn = document.getElementById('play');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');
  const loopBtn = document.getElementById('loop');
  const dlBtn = document.getElementById('dl');
  const speedSel = document.getElementById('speed');
  const seek = document.getElementById('seek');
  const currentT = document.getElementById('current');
  const durationT = document.getElementById('duration');
  const titleEl = document.getElementById('title');
  const downloadsWrap = document.getElementById('downloadButtons');
  const partsGrid = document.getElementById('partsGrid');
  const toast = document.getElementById('toast');

  let idx = 0;
  let isSeeking = false;

  titleEl.textContent = "Korea random video part 7";
  speedSel.value = "1";

  function fmt(s){ if(!isFinite(s)) return "0:00"; const sec = Math.floor(s%60).toString().padStart(2,'0'); const min = Math.floor(s/60); return `${min}:${sec}`; }
  function showLoading(){ loading.style.display = ''; loading.setAttribute('aria-hidden','false'); }
  function hideLoading(){ loading.style.display = 'none'; loading.setAttribute('aria-hidden','true'); updateThumb(); }
  function showToast(msg, time = 3200){ toast.textContent = msg; toast.style.display = 'block'; toast.style.opacity='1'; setTimeout(()=>{ toast.style.opacity='0'; setTimeout(()=> toast.style.display='none',300); }, time); }

  function clampIndex(i){ if(!videos.length) return 0; return ((i % videos.length) + videos.length) % videos.length; }

  // Load source but DO NOT autoplay
  function setSourceNoAuto(src){
    try{ video.pause(); }catch(e){}
    video.removeAttribute('src');
    video.src = src;
    try{ video.load(); }catch(e){}
    showLoading();
  }

  // init first
  if(videos.length) setSourceNoAuto(videos[0]);

  // Events
  video.addEventListener('loadedmetadata', () => {
    durationT.textContent = fmt(video.duration || 0);
    seek.max = video.duration || 100;
  });

  video.addEventListener('canplay', () => { hideLoading(); });

  video.addEventListener('playing', () => {
    hideLoading();
    playBtn.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>';
    thumbPlay.classList.add('hidden');
  });

  ['waiting','stalled'].forEach(ev => video.addEventListener(ev, () => { showLoading(); }));

  video.addEventListener('timeupdate', () => {
    if(!isSeeking){ seek.value = video.currentTime; currentT.textContent = fmt(video.currentTime); }
  });

  seek.addEventListener('input', ()=> { isSeeking = true; currentT.textContent = fmt(seek.value); });
  seek.addEventListener('change', ()=> { video.currentTime = Number(seek.value); isSeeking = false; });

  async function togglePlay(){
    try {
      if(video.paused){
        await video.play();
        playBtn.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>';
      } else {
        video.pause();
        playBtn.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>';
      }
    } catch(e){
      showToast('Gagal memutar. Coba klik lagi.');
      console.warn('Play failed', e);
    }
  }

  playBtn.addEventListener('click', togglePlay);
  thumbPlay.addEventListener('click', (e)=>{ e.stopPropagation(); togglePlay(); });
  video.addEventListener('click', togglePlay);

  video.addEventListener('pause', ()=> { playBtn.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>'; updateThumb(); });

  function updateThumb(){ if(video.paused) thumbPlay.classList.remove('hidden'); else thumbPlay.classList.add('hidden'); }

  // Prev / Next: load next/prev but DO NOT autoplay
  prevBtn.addEventListener('click', ()=> {
    if(!videos.length){ showToast('Tidak ada bagian tersisa.'); return; }
    idx = clampIndex(idx - 1);
    setSourceNoAuto(videos[idx]);
  });
  nextBtn.addEventListener('click', ()=> {
    if(!videos.length){ showToast('Tidak ada bagian tersisa.'); return; }
    idx = clampIndex(idx + 1);
    setSourceNoAuto(videos[idx]);
  });

  // Loop toggle
  loopBtn.addEventListener('click', ()=> {
    video.loop = !video.loop;
    loopBtn.classList.toggle('btn-primary', video.loop);
    loopBtn.classList.toggle('btn-outline-light', !video.loop);
  });

  // Speed
  speedSel.addEventListener('change', ()=> { video.playbackRate = Number(speedSel.value); });

  // Fullscreen
  document.getElementById('fs')?.addEventListener('click', ()=> {
    const el = document.querySelector('.video-area');
    if(!document.fullscreenElement) el.requestFullscreen().catch(()=>{});
    else document.exitFullscreen();
  });

  // Auto-next on ended: load next but DO NOT autoplay
  video.addEventListener('ended', ()=> {
    if(videos.length && idx < videos.length - 1){ idx++; setSourceNoAuto(videos[idx]); }
  });

  // Error handling: remove failing source and load next (no autoplay) and keep download links in sync
  video.addEventListener('error', (e) => {
    const failedSrc = video.currentSrc || video.src || 'unknown';
    console.warn('Video error at index', idx, failedSrc, e);
    hideLoading();

    const pos = videos.indexOf(failedSrc);
    if(pos !== -1){
      videos.splice(pos,1);
      if(partsDownloadLinks[pos]) partsDownloadLinks.splice(pos,1);
      showToast('Bagian ' + (pos+1) + ' gagal dimuat — dihapus.');
      if(pos <= idx) idx = Math.max(0, idx - 1);
    } else {
      showToast('Sumber gagal dimuat.');
    }

    if(videos.length){
      idx = clampIndex(idx);
      setTimeout(()=> setSourceNoAuto(videos[idx]), 250);
      buildPartsGrid();
    } else {
      showToast('Semua sumber gagal.');
      try{ video.removeAttribute('src'); video.load(); }catch(e){}
      buildPartsGrid();
    }
  });

  // Keyboard shortcuts
  window.addEventListener('keydown', (e)=> {
    if(['INPUT','TEXTAREA'].includes(document.activeElement.tagName)) return;
    if(e.code === 'Space'){ e.preventDefault(); togglePlay(); }
    if(e.code === 'ArrowLeft'){ video.currentTime = Math.max(0, video.currentTime - 5); }
    if(e.code === 'ArrowRight'){ video.currentTime = Math.min(video.duration || 0, video.currentTime + 5); }
    if(e.key === 'm'){ video.muted = !video.muted; }
  });

  // Block right-click
  document.addEventListener('contextmenu', e => e.preventDefault());

  // DOWNLOAD ACTIONS: open mapped download URL for current part
  function openDownloadForCurrent(){
    const dl = partsDownloadLinks[idx] || '';
    if(!dl){ showToast('Tidak ada link download untuk bagian ini.'); return; }
    window.open(dl, '_blank', 'noopener');
  }
  dlBtn.addEventListener('click', openDownloadForCurrent);

  // Build Full konten area (UC & Terabox)
  function buildDownloadButtons(){
    downloadsWrap.innerHTML = '';
    if(downloads.uc){
      const a = document.createElement('a');
      a.className = 'download-btn';
      a.href = downloads.uc;
      a.target = '_blank';
      a.rel = 'noopener noreferrer nofollow';
      a.innerHTML = '<svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path d="M12 2a5 5 0 00-5 5v1H5v5h2v6h10v-6h2V8h-2V7a5 5 0 00-5-5z"/></svg><span>UC Share — Full konten</span>';
      downloadsWrap.appendChild(a);
    }
    if(downloads.terabox){
      const a = document.createElement('a');
      a.className = 'download-btn';
      a.href = downloads.terabox;
      a.target = '_blank';
      a.rel = 'noopener noreferrer nofollow';
      a.innerHTML = '<svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path d="M3 3h18v18H3z"/></svg><span>Terabox — Full konten</span>';
      downloadsWrap.appendChild(a);
    }
    if(!downloads.uc && !downloads.terabox){
      downloadsWrap.innerHTML = '<div style="color:var(--yt-muted)">Tidak ada full-link.</div>';
    }
  }

  // Build parts grid with download links (ordered)
  function buildPartsGrid(){
    partsGrid.innerHTML = '';
    if(!partsDownloadLinks || !partsDownloadLinks.length){
      partsGrid.innerHTML = '<div style="color:var(--yt-muted)">Tidak ada bagian.</div>';
      return;
    }
    partsDownloadLinks.forEach((link, i) => {
      const a = document.createElement('a');
      a.className = 'download-btn';
      a.href = link;
      a.target = '_blank';
      a.rel = 'noopener noreferrer nofollow';
      a.innerHTML = `<svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path d="M12 2v12"/></svg><span>Part ${i+1}</span>`;
      partsGrid.appendChild(a);
    });
  }

  // Init
  buildDownloadButtons();
  buildPartsGrid();
  updateThumb();

  // spin keyframes for loader
  const style = document.createElement('style');
  style.textContent = "@keyframes spin{ to { transform: rotate(360deg); } }";
  document.head.appendChild(style);

</script>
</body>
  </html>
